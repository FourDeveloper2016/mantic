/*
 *company KAANA
 *project KAJOOL (Control system polls)
 *date 11/06/2014
 *time 06:17:55 PM
 *author Team Developer 2016 <team.developer@kaana.org.mx>
 */
!function(e){$.Event("onJanal");return e.isMobile={Android:function(){return null!==navigator.userAgent.match(/Android/i)},BlackBerry:function(){return null!==navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return null!==navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return null!==navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},e.Janal?void Console.debug("Janal already loaded, ignoring duplicate execution."):(Janal={},Janal.Control={name:[],stage:[100,101,115,97,114,114,111,108,108,111],form:"datos",display:"growl",growl:"mensajes",lock:"bloqueo",errors:3},Janal.Control.Functions=Class.extend({daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],root:[47,73,75,84,65,78],logger:!1,stage:"desarrollo",init:function(e){$self=this,$self.console("Janal.Control.Function.init"),"undefined"!=typeof e&&(this.root=e),$self.load(0,["core/jquery.janal.sticky.min-1.0.0.js","js/jquery.janal.menu-2.0.1.js","core/jquery.longclick-1.0.0.js","core/jquery.validate.min-1.15.0.js","core/jquery.meio.mask.min-1.1.14.js","core/jquery.janal.fns.min-1.1.8.js"]),$self.console("Janal.Control.Function.init resource loaded")},dateFormat:function(e){var n=new Date,t=n.getFullYear().toString();e=e.replace(/yyyy/g,t);var a=(n.getMonth()+1).toString();e=e.replace(/mm/g,a[1]?a:"0"+a[0]);var r=n.getDate().toString();e=e.replace(/dd/g,r[1]?r:"0"+r[0]);var i=n.getHours().toString();e=e.replace(/hh/g,i[1]?i:"0"+i[0]);var o=n.getMinutes().toString();e=e.replace(/ii/g,o[1]?o:"0"+o[0]);var s=n.getSeconds().toString();return e=e.replace(/ss/g,s[1]?s:"0"+s[0])},console:function(e){("produccion"!==$self.toUnicodeString($self.stage)||$self.logger)&&console.log("INFO "+this.dateFormat("yyyy-mm-dd hh:ii:ss")+": "+e)},cache:function(e,n,t,a){return n=$.extend(n||{},{dataType:"script",cache:!1,async:!1,url:e,complete:function(){t<a.length&&$self.load(t,a)}}),$.ajax(n)},load:function(e,n){var t="/resources/janal/"+n[e];$self.cache(this.toContext()+t,{},e+1,n).done(function(){$self.console(t+" loaded")}).fail(function(e,n,a){$self.console(t+" load error "+a),alert("Desarrollador:\n    Fallo la carga de las librerias de Janal \n    revisar por favor la consola del navegador\n    y notifique a su jefe del error.!\n"+t+"\n\n     Error: "+a)})},loadJS:function(e){$self.load(0,e)},empty:function(e){return null===e||0===$.trim(e).length},vector:function(e,n){return e.split(new RegExp(n.join("|"),"g"))},remove:function(e,n){return e.replace(new RegExp(n.join("|"),"g"),"")},cleanToken:function(e){var n=["\\ ","\\,","\\$","\\(","\\)"];return this.remove(e,n)},isNonnegativeInteger:function(e){var n=!1;return arguments.length>1&&(n=arguments[1]),this.isSignedInteger(e,n)&&(this.empty(e)&&n||parseInt(e,10)>=0)},isSignedInteger:function(e){if(this.empty(e))return 1===arguments.length?!1:arguments[1]===!0;var n=0,t=!1;return arguments.length>1&&(t=arguments[1]),"-"!==e.charAt(0)&&"+"!==e.charAt(0)||(n=1),this.isInteger(e.substring(n,e.length),t)},isInteger:function(e){if(this.empty(e))return 1===arguments.length?!1:arguments[1]===!0;for(var n=0;n<e.length;n++){var t=e.charAt(n);if(!this.isDigit(t))return!1}return!0},isDigit:function(e){return e>=0&&9>=e},isIntegerInRange:function(e,n,t){return this.empty(e)?1===arguments.length?!0:arguments[1]===!0:this.isInteger(e,!1)?parseInt(e,10)>=n&&parseInt(e,10)<=t:!1},isYear:function(e){return this.empty(e)?1===arguments.length?!1:arguments[1]===!0:this.isNonnegativeInteger(e)?2===e.length||4===e.length:!1},isMonth:function(e){return this.empty(e)?1===arguments.length?!1:arguments[1]===!0:this.isIntegerInRange(e,1,12)},isDay:function(e){return this.empty(e)?1===arguments.length?!1:arguments[1]===!0:this.isIntegerInRange(e,1,31)},februaryDays:function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},isDate:function(e,n,t){if(!(this.isYear(e,!1)&&this.isMonth(n,!1)&&this.isDay(t,!1)))return!1;var a=parseInt(e,10),r=parseInt(n,10),i=parseInt(t,10);return i>this.daysInMonth[r-1]?!(2===r&&i>this.februaryDays(a)):!0},isCustomDate:function(e){var n=/^([\d]{2})\/([\d]{2})\/([\d]{4})$/;return n.test(e)&&this.isDate(e.substring(6),e.substring(3,5),e.substring(0,2))},isHour:function(e,n,t){return e>=0&&23>=e?n>=0&&59>=n?t>=0&&59>=t:void 0:!1},isCustomHour:function(e){return this.isHour(parseInt(e.substring(0,2),10),parseInt(e.substring(3,5),10),parseInt(e.substring(6,8),10))},checksDates:function(e,n){return this.reverseDate(e)<=this.reverseDate(n)},reverseDate:function(e){return e.substr(6,4)+e.substr(3,2)+e.substr(0,2)},build:function(e,n,t,a){var r=$("<"+e.toLowerCase()+">");return this.empty(n)||r.attr("id",n),$.each(a.split(","),function(){r.addClass(String(this))}),r.appendTo(t)},toUnicodeString:function(e){if("string"==typeof e)return e;for(var n="",t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n},toContext:function(){return this.toUnicodeString(this.root)},labels:function(e){return $('label[for$="'+e+'"], label[for$="'+e+$parent.SELECT_FOCUS+'"], label[for$="'+e+$parent.INPUT_RESERVE+'"], th.'+(e.indexOf(":")>0?e.substring(e.indexOf(":")+1):e)+">span")},selector:function(e,n){return"input[id"+e+'="'+n+'"], input[id'+e+'="'+n+$parent.INPUT_RESERVE+'"], select[id'+e+'="'+n+$parent.INPUT_RESERVE+'"], textarea[id'+e+'="'+n+'"], input[id^="'+n+':"], input[id*=":'+n+':"], input[id'+e+'="'+n+':"]'},components:function(e,n){return $(this.selector(e,n))},inputs:function(e,n){return $("input[id"+e+'="'+n+'"], input[id'+e+'="'+n+$parent.INPUT_RESERVE+'"]')},search:function(e){return this.components("$",e)},tabView:function(e){return $('input[id$="'+e+'_activeIndex"]').val()},value:function(e){var n="",t=$('input[id$="'+e+'"], input[id$="'+e+$parent.INPUT_RESERVE+'"], select[id$="'+e+$parent.INPUT_RESERVE+'"] option:selected, textarea[id$="'+e+'"], input[id^="'+e+':"]:checked, input[id*=":'+e+':"]:checked, input[id$="'+e+':"]:checked');return $.each(t,function(e){n+=$(this).val()+(t.length-1!==e?"|":"")}),n},text:function(e){return this.search(e).text()},fecha:function(){var e,n,t,a,r=new Array("enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"),i=new Date,o=i.getMonth(),s=i.getYear();1e3>s&&(s=1900+s),e=i.getHours(),a=" a.m.",e>=12&&(a=" p.m."),e>12&&(e-=12),0===e&&(e=12),n=i.getMinutes(),10>n&&(n="0"+n),t=i.getSeconds(),10>t&&(t="0"+t),texto="Hoy es "+i.getDate()+" de "+r[o]+" de "+s+"   	"+e+":"+n+":"+t+" "+a,$("#reloj").text(texto).addClass("fecha	"),document.layers?(document.layers.reloj.document.write(texto),document.layers.reloj.document.close()):document.all&&(reloj.innerHTML=texto),setTimeout("janal.fecha()",1500)},monitor:function(e){var n=11,t=n;0===e?clearInterval(interval):(segundos.innerHTML="Tiempo restante: 00:00:10",interval=setInterval(function(){t--,t>-1?(n=t+1,t>=10?segundos.innerHTML="Tiempo restante: 00:00:".concat(t.toString()):segundos.innerHTML="Tiempo restante: 00:00:0".concat(t.toString())):(clearInterval(interval),PF("dialogoInactivo").hide(),document.getElementById("salir").click())},1e3))}}),Janal.Control.Validations=Janal.Control.Functions.extend({form:"datos",fields:{},kind:"growl",message:"mensajes",stage:"desarrollo",locked:"bloqueo",INPUT_RESERVE:"_input",SELECT_FOCUS:"_focus",JANAL_RESERVE:"IKTAN",initialized:!1,offContextMenu:!0,errors:{inputs:[],masks:[],validations:[],customs:[],show:0},names:{validations:["libre","max-caracteres","min-caracteres","max-valor","min-valor","requerido","entero","entero-signo","valor-simple","telefono","contiene-a","igual-a","menor-a","mayor-a","asterisco","moneda","moneda-decimal","flotante-signo","flotante","mayusculas","minusculas","vocales","rango","secuencia-palabra","longitud","letras","texto","curp","rfc","texto-especial","boleano","resultado-entrevista-modulo","resultado-entrevista-basico","fecha","fecha-menor","fecha-mayor","registro","hora","hora-completa","hora-mayor","hora-menor","comodin","no-permitir","ipv4","ipv6","no-aplica","esta-en","correo","acceso"],masks:["libre","fecha","fecha-hora","registro","hora","hora-completa","tarjeta-credito","decimal","decimal-signo","letras","vocales","texto","numero","un-digito","dos-digitos","tres-digitos","tres-digitos-default","cuatro-digitos","cinco-digitos","siete-digitos","diez-digitos","entero","entero-blanco","entero-signo","entero-sin-signo","flotante","flotante-signo","rfc","curp","moneda","moneda-decimal","mayusculas","minusculas","cuenta","numeros-letras","nombre-dto","telefono","ip","version","clave-ct-call-center","clave-ct","clave-operativa","resultado-entrevista-basico","resultado-entrevista-modulo","resultado-entrevista-exacuatro","no-aplica","correo","valor-simple","acceso"],watermarks:["entero","entero-signo","valor-simple","decimal","decimal-signo","flotante","flotante-signo","moneda","moneda-decimal","max-valor","min-valor"],formats:["libre","cambiar-mayusculas","cambiar-minusculas","rellenar-caracter"],customs:[]},init:function(e,n,t,a,r,i,o,s){this._super(e,r),this.console("Janal.Control.Validations.init"),$parent=this,$parent.kind=a,$parent.stage=r,$parent.message=i,$parent.lock=o,$parent.offContextMenu="desarrollo"!==$parent.toUnicodeString(r),$parent.lockContextMenu($parent.offContextMenu),$parent.overrideContextMenu(),$parent.prepare(n,t,s),$parent.ready()},prepare:function(e,n,t){$parent.console("Janal.Control.Validations.prepare"),"undefined"!=typeof e&&(this.form=e),"undefined"!=typeof n&&(this.fields=n),"undefined"!=typeof t&&$parent.isNonnegativeInteger(""+t)&&(this.errors.show=t),$form=$("#"+$parent.form).validate({ignore:"ignore",onkeyup:!1,onfocusout:!1,focusInvalid:!0,onsubmit:!1,errorPlacement:function(e,n){$parent.format(e.text(),n.is(":checkbox")||n.is(":radio")?n.attr("name"):n.attr("id"),$parent.errors.inputs)}}),"undefined"!=typeof $parent.lazy&&$parent.lazy($form),$parent.reset(),this.addTabIndex(),this.initialized=!0},display:function(e){"undefined"!=typeof e&&"growl|inline|classic".indexOf(e)>=0&&($parent.kind=e),"undefined"!=typeof customs&&($parent.errors.customs=customs)},add:function(e,n,t){var a=e;e.constructor!==Array&&(a=$parent.vector(e,["\\|","\\ ","\\,"])),$.each(a,function(){$parent.validate(String(this),$parent.names.validations.concat($parent.names.customs))&&$parent.format("Ya existe la validaci\u00F3n ["+String(this)+"], cambie el nombre.","Personalizada",$parent.errors.validations)}),$parent.errors.validations.length>0?$parent.programmer($parent.errors.validations):($parent.names.customs=$parent.names.customs.concat(a),$.validator.addMethod(e,n,t)),$parent.errors.validations=[]},format:function(e,n,t){var a=$parent.labels(n.indexOf(":")>0?n.substring(n.lastIndexOf(":")+1):n.indexOf($parent.INPUT_RESERVE)>0?n.substring(0,n.lastIndexOf($parent.INPUT_RESERVE)):n);0===a.length?t.push({summary:"Informativo:",detail:e,severity:"error"}):$.each(a,function(){$(this).hasClass("janal-field-error")||($(this).addClass("janal-field-error"),t.push({summary:$(this).text().indexOf(":")>0?$(this).text():$(this).text()+":",detail:" "+e,severity:"error"}))})},blank:function(e,n){"undefined"==typeof n.multiple?"undefined"==typeof $parent.fields[e].multiple&&($parent.fields[e].multiple="$"):$parent.fields[e].multiple=n.multiple,"undefined"==typeof n.mensaje?"undefined"==typeof $parent.fields[e].mensaje&&($parent.fields[e].mensaje=""):$parent.fields[e].mensaje=n.mensaje,"undefined"==typeof n.grupo?"undefined"==typeof $parent.fields[e].grupo&&($parent.fields[e].grupo=$parent.JANAL_RESERVE):$parent.fields[e].grupo=n.grupo,"undefined"==typeof n.mascara?"undefined"==typeof $parent.fields[e].mascara&&($parent.fields[e].mascara="libre"):$parent.fields[e].mascara=n.mascara,"undefined"==typeof n.validaciones?"undefined"==typeof $parent.fields[e].validaciones&&($parent.fields[e].validaciones="libre"):$parent.fields[e].validaciones=n.validaciones,"undefined"==typeof n.formatos?"undefined"==typeof $parent.fields[e].formatos&&($parent.fields[e].formatos="libre"):$parent.fields[e].formatos=n.formatos,"undefined"==typeof n.individual?"undefined"==typeof $parent.fields[e].individual&&($parent.fields[e].individual=!1):$parent.fields[e].individual=n.individual},cleanForm:function(){$parent.console("Janal.Control.Validations.cleanForm"),$.each($parent.fields,function(e,n){var t=$parent.components(n.multiple,e);$.each(t,function(){$(this).val("")})})},data:function(e,n){$parent.hide();var t=$parent.components(n.multiple,e);$.each(t,function(){$parent.mask(e,$(this),n.mascara),$parent.required(e,n.validaciones,!0),("libre"!==n.formatos||n.individual)&&$(this).on("blur",function(){$parent.element(!1,e)})}),$parent.programmer($parent.errors.masks)},reset:function(){$parent.console("Janal.Control.Validations.reset"),$parent.clean(),$parent.errors.masks=[],$.each($parent.fields,function(e,n){$parent.blank(e,n),$parent.data(e,n)})},refresh:function(e){$parent.console("Janal.Control.Validations.refresh"),$parent.errors.masks=[],"string"==typeof e&&(e=$parent.vector(e,["\\|","\\,","\\ "])),$.each($parent.fields,function(n,t){("undefined"==typeof e||0===e.length||e.indexOf(n)>=0||e.indexOf(t.grupo)>=0)&&$parent.data(n,t)})},renovate:function(e,n){$parent.console("Janal.Control.Validations.renovate"),$parent.fields[e]?($parent.blank(e,n),$parent.refresh([e])):$parent.show([{summary:"No existe el ID",detail:"El elemento llamado["+e+"] no existe !!!"}])},whatIsIt:function(e){var n="janal".constructor,t=[].constructor,a={}.constructor;return null===e?"null":void 0===e?"undefined":e.constructor===n?"String":e.constructor===t?"Array":e.constructor===a?"Object":"don t know"},mask:function(e,n,t){if("String"===$parent.whatIsIt(t)&&0===t.indexOf("{"))try{n.setMask($.parseJSON(t))}catch(a){$parent.format("Los parametros de la mascara ["+t+"] son incorrectos ",e,$parent.errors.masks)}else if("Object"===$parent.whatIsIt(t))try{n.setMask(t)}catch(a){$parent.format("Los parametros de la mascara ["+t+"] son incorrectos ",e,$parent.errors.masks)}else $parent.validate(t,$parent.names.masks)?"no-aplica"!==t&&(n.attr("alt",t),n.setMask()):$parent.format("No existe la mascara ["+t+"]",e,$parent.errors.masks)},cut:function(e){return $.trim(e.indexOf("(")>=0?e.substring(0,e.indexOf("(")):e)},complete:function(e){return $.trim(e.indexOf("(")>=0?e:e+'({"default": "'+$parent.JANAL_RESERVE+'"})')},normalize:function(e,n,t,a){if("string"==typeof t){var r=$parent.vector(t,["\\(","\\)"]),i={messages:{}};try{i[r[0]]=$.parseJSON(r[1])}catch(o){$parent.format("Los parametros de la validaci\u00F3n ["+r[0]+"] son incorrectos "+r[1],e,$parent.errors.validations)}$parent.empty(a)||(i.messages[r[0]]=a),t=i}return t},rules:function(e,n,t,a){$.each(t,function(){var t=$parent.cut(this);$parent.validate(t,$parent.names.validations.concat($parent.names.formats).concat($parent.names.customs))?"no-aplica"!==t&&n.rules("add",$parent.normalize(e,n,$parent.complete(String(this)),a)):$parent.format("No existe la validaci\u00F3n ["+t+"]",e,$parent.errors.validations)})},required:function(e,n,t){if(n.indexOf("requerido")>=0){var a=$parent.labels(e);$.each(a,function(){t?$(this).text(($(this).text().indexOf("*")<0?"*":"")+$(this).text()):$(this).text($(this).text().indexOf("*")>=0?$(this).text().substring(1):$(this).text())})}},validate:function(e,n){return n.indexOf(e)>=0},hide:function(){$("label, th>span").removeClass("janal-field-error"),$("#growl_container").remove(),"undefined"!=typeof PF($parent.message)&&PF($parent.message).removeAll(),$parent.errors.inputs=[]},clean:function(){$parent.console("Janal.Control.Validations.clean"),$.each($parent.fields,function(e,n){$parent.blank(e,n);var t=$parent.components(n.multiple,e);$.each(t,function(){$(this).unsetMask(),$(this).css("text-align","left"),$(this).rules("remove"),$parent.required(e,n.validaciones,!1)})}),$parent.hide()},isWaterMark:function(e){return $.each(e,function(){return $parent.names.watermarks.indexOf($parent.cut(this))>=0?!0:void 0}),!1},cleanMarks:function(){$.each($parent.fields,function(e,n){"undefined"==typeof n.multiple&&(n.multiple="$");var t=$parent.inputs(n.multiple,e);$.each(t,function(){$parent.isWaterMark($parent.vector(n.validaciones,["\\|"]))&&$(this).val($parent.cleanToken($(this).val()))})})},show:function(e){switch($parent.kind){case"classic":$parent.classic(e);break;case"inline":$parent.inline(e);break;case"growl":$parent.growl(e)}},classic:function(e){"undefined"!=typeof PF($parent.message)&&(PF($parent.message).removeAll(),PF($parent.message).show(e.concat($parent.errors.customs)))},growl:function(e){var n=$parent.build("div","growl_container",$("#"+$parent.form),"ui-growl,ui-widget");n=$parent.build("div","",n,"ui-growl-item-container,ui-state-highlight,ui-corner-all,ui-helper-hidden,ui-shadow"),n.css({display:"block"}),n=$parent.build("div","",n,"ui-growl-item"),$('<a href="#" onclick="$(this).parent().parent().slideUp();" style="float:right;cursor:pointer"><span class="ui-icon ui-icon-close"></span></a>').appendTo(n),$parent.build("span","",n,"ui-growl-image, ui-growl-image-error"),$parent.detail(e,n)},inline:function(e){var n=$parent.build("div","growl_container",$("body"),"ui-messages,ui-widget");n.insertBefore($("#"+$parent.form)),n=$parent.build("div","",n,"ui-messages-error,ui-corner-all"),$('<a href="#" class="ui-messages-close" onclick="$(this).parent().slideUp();return false;"><span class="ui-icon ui-icon-close"></span></a>').appendTo(n),$parent.build("span","",n,"ui-messages-error-icon"),$parent.detail(e,n)},detail:function(e,n){$parent.build("br","",n,"");var t=$parent.build("ul","",n,""),a=e.concat($parent.errors.customs);$.each(a,function(e){"undefined"==typeof this.severity&&(this.severity="error");var r=$parent.build("li","",t,""),i=$parent.build("span","",r,"ui-messages-"+this.severity+"-summary");if(i.text(this.summary),i=$parent.build("span","",r,"ui-messages-"+this.severity+"-detail"),i.text(this.detail),$parent.errors.show>0&&e+1>=$parent.errors.show){$parent.build("br","",n,"");var o=$parent.build("div","",n,"janal-align-right janal-font-bold");return o.text("Total de errores: "+a.length),$parent.build("br","",n,""),!1}})},programmer:function(e){if(e.length>0){var n="Errores encontrados en Janal.Control.fields:\n\n";$.each(e,function(e,t){n+=e+1+".- ["+t.summary+"] "+t.detail+"\n"}),n+="\nDesarrollador:\n    Favor de corregir los errores ortogr\u00E1ficos.",alert(n)}},addTabIndex:function(){var e=1;$("#"+$parent.form).each(function(){$("*",this).not("*[for]").each(function(){$(this).is("input:text, input:checkbox, input:radio, select, textarea, button")&&($(this).is(":disabled")||$(this).attr("tabIndex",e++))})}),$parent.keyEnter(),setTimeout(function(){$("*[tabIndex=1]").focus()},1e3)},keyEnter:function(){$("input:text, input:radio, input:checkbox, select, button").on("keydown",function(e){$parent.move(e,$(this))})},move:function(e,n){var t=e.keyCode?e.keyCode:e.which?e.which:e.charCode;if(13===t){var a=$("*[tabIndex="+(parseInt(n.attr("tabIndex"),10)+1)+"], *[tabIndex=1]");$.each(a,function(){1===a.length?$(this).focus():1!==parseInt($(this).attr("tabIndex"),10)&&$(this).focus()}),e.preventDefault()}},apply:function(e,n){$parent.console("Janal.Control.Validations.apply"),$parent.errors.validations=[],$.each($parent.fields,function(t,a){var r=$parent.components(a.multiple,t);$.each(r,function(){("undefined"==typeof n||n)&&$(this).rules("remove"),(e===$parent.JANAL_RESERVE||a.grupo.indexOf(e)>=0)&&$parent.rules(t,$(this),$parent.vector(a.validaciones,["\\|"]),a.mensaje)})}),$parent.programmer($parent.errors.validations)},check:function(e,n){$parent.console("Janal.Control.Validations.check"),$parent.hide(),"undefined"!=typeof e&&"boolean"!=typeof e&&($parent.errors.customs=e),("undefined"!=typeof e&&"boolean"==typeof e&&e||"undefined"!=typeof n&&n)&&$parent.bloquear();var t=$("#"+$parent.form).valid()&&0===$parent.errors.customs.length;return t?$parent.cleanMarks():$parent.show($parent.errors.inputs),$parent.errors.customs=[],("undefined"!=typeof e&&"boolean"==typeof e&&e||"undefined"!=typeof n&&n)&&$parent.desbloquear(),t},update:function(e){$parent.console("Janal.Control.Validations.update "+e),$parent.clean(),$parent.fields=e,$parent.reset()},change:function(e,n){$parent.console("Janal.Control.Validations.update "+n),$parent.clean(),$parent.prepare(e,n)},execute:function(e,n){return $parent.console("Janal.Control.Validations.execute"),$parent.apply($parent.JANAL_RESERVE),$parent.check(e,n)},partial:function(e,n,t){$parent.console("Janal.Control.Validations.partial");var a=$parent.vector(e,["\\|","\\ ","\\,"]);return $.each(a,function(e){$parent.apply(String(this),0===e)}),$parent.check(n,t)},element:function(e,n,t){$parent.console("Janal.Control.Validations.element"),$parent.errors.validations=[],$.each($parent.fields,function(t,a){if(t===n){$parent.data(!1,t,a);var r=$parent.components(a.multiple,t);$.each(r,function(){$(this).rules("remove");var n=a.formatos;(e||a.individual)&&(n+=n.endsWith("|")?a.validaciones:"|"+a.validaciones),$parent.rules(t,$(this),$parent.vector(n,["\\|"]),"")})}}),$parent.programmer($parent.errors.validations),$parent.hide(),"undefined"!=typeof t&&t&&$parent.bloquear();var a=$("#"+$parent.form).validate(),r=a.element($("#"+$parent.form).find($parent.selector("$",n)));return r?$parent.cleanMarks():$parent.show($parent.errors.inputs),"undefined"!=typeof t&&t&&$parent.desbloquear(),r},individual:function(e,n){return $parent.console("Janal.Control.Validations.individual"),$parent.element(!0,e,n)},exportTable:function(e,n){$parent.bloquear();var t=$("#"+n+" div.ui-dt-c:contains('No existen registros')").text().length>0;return t?($parent.hide(),$parent.show([{summary:"Error del sistema",detail:"No existen registro que exportar"}]),$parent.desbloquear()):$("#"+e).click(),!t},overrideContextMenu:function(){$(document).on("click","span.janal-context-menu",function(e){e.stopImmediatePropagation();var n=parseInt($(this).attr("data-ri")),t=$(this).is("[data-cm]")?$(this).attr("data-cm"):void 0!==$(this).attr("janal-menu")?$(this).attr("janal-menu"):"kajoolContextMenu",a=$(this).is("[data-dt]")?$(this).attr("data-dt"):"kajoolTable";PF(a)&&(PF(a).onRowClick(e,PF(a).findRow(n),!0),PF(a).writeSelections()),PF(t)&&PF(t).show(e)})},lockContextMenu:function(e){$parent.console("Janal.Control.Validations.lockContextMenu"),"undefined"!=typeof e&&($parent.offContextMenu=e),$(document).bind("contextmenu",function(){return!$parent.offContextMenu})},hideStackMenu:function(){$parent.console("Janal.Control.Validations.hideStackMenu"),PF("stackMenu")&&PF("stackMenu").collapse(PF("stackMenu").jq.children("img")),$(".ui-stack").bind("mousedown",function(e){return 2===e.button||3===e.button?($(".ui-stack").hide(),!1):!0})},toCorreoHtml:function(){$parent.bloquear();var e="",n=[],t=[],a=!1,r=$("#tablaCorreos").clone();r.find(".ui-menubutton").remove(),r.find("*").each(function(){"undefined"!=typeof $(this).attr("class")&&(t=$(this).attr("class").split(" "),$.each(t,function(e,t){-1===n.indexOf(t)&&n.push(t)}))}),$.each(document.styleSheets,function(t,r){$.each(r.cssRules,function(t,r){"undefined"!=typeof r.selectorText&&(a=!1,$.each(r.selectorText.split(" "),function(e,t){-1!==n.indexOf(t.substring(1,t.length))&&(a=!0)}),a&&(e=e+r.cssText+" "))})}),remoteTablaCorreos([{name:"text",value:r.html()},{name:"styleText",value:e}])},bloquear:function(){return"undefined"!=typeof $parent.locked&&PF($parent.locked).show(),!0},desbloquear:function(){"undefined"!=typeof $parent.locked&&PF($parent.locked).hide()},cerrarDialogo:function(){this.desbloquear(),PF("dialogoConfirmacion").hide()},custom:function(e){var n=$parent.build("div","growl_container",$("#"+$parent.form),"ui-growl,ui-widget");n=$parent.build("div","",n,"ui-growl-item-container,ui-state-highlight,ui-corner-all,ui-helper-hidden,ui-shadow"),n.css({display:"block"}),n=$parent.build("div","",n,"ui-growl-item"),$('<a href="#" onclick="$(this).parent().parent().slideUp();" style="float:right;cursor:pointer"><span class="ui-icon ui-icon-close"></span></a>').appendTo(n),"undefined"==typeof e.severity&&(e.severity="error"),$parent.build("span","",n,"ui-growl-image, ui-growl-image-"+e.severity);var t=$parent.build("span","",n,"ui-messages-"+e.severity+"-summary");t.text(e.summary),$parent.build("br","",n,""),t=$parent.build("span","",n,"ui-messages-"+e.severity+"-detail"),t.text(e.detail)},info:function(e){$parent.custom({summary:"Informaci\u00F3n:",detail:e,severity:"info"})},warn:function(e){$parent.custom({summary:"Precauci\u00F3n:",detail:e,severity:"warn"})},error:function(e){$parent.custom({summary:"Error:",detail:e,severity:"error"})},alert:function(e){$parent.custom({summary:"Kajool:",detail:e,severity:"info"})},version:function(){return"0.1.3.7"},align:function(e){try{"undefined"==typeof e&&(e=15),$("div.sticky-wrapper").css("top",$("div.sticky-wrapper").position().top-e+"px")}catch(n){}},integer:function(e,n){return isNaN(parseInt(e,10))?"undefined"!=typeof n?n:0:parseInt(e,10)},ready:function(){$parent.console("Janal.Control.Validations.ready"),"undefined"!=typeof $parent.start?$parent.start():$parent.console("Janal.Control.Validations.start not implemented !")}}),void(e.Janal=Janal))}(window),$(document).mousedown(function(e){currentEvent=e}),$(document).ready(function(){janal=new Janal.Control.Validations(Janal.Control.name,Janal.Control.form,Janal.Control.fields,Janal.Control.display,Janal.Control.stage,Janal.Control.growl,Janal.Control.lock,Janal.Control.errors),$("#tabla_selection").val(""),console.info("Janal.Control.Validations.initialized: "+janal.initialized)});
